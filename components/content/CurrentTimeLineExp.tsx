import { Timeline, TimelineEvent } from './TimeLineExp';

export function calculateDuration(
  startDate: string,
  showMonths: boolean
): string {
  const start: Date = new Date(startDate);
  const now: Date = new Date();
  const diff: number = now.getTime() - start.getTime();
  const diffDate: Date = new Date(diff);
  const years: number = diffDate.getUTCFullYear() - 1970;
  const months: number = diffDate.getUTCMonth();

  if (years === 1 && months === 0) {
    return '1 year';
  } else if (!showMonths) {
    return `${years} years`;
  } else {
    return `${years} yr ${months} mos`;
  }
}

const CurrentTimeLineExp = () => {
  return (
    <Timeline>
      <TimelineEvent active>
        <TimelineEvent.Title>
          <a
            href="https://www.ia.com.mx"
            target="_blank"
            rel="noopener noreferrer"
            className="transition-all hover:text-white hover:underline ease"
          >
            IA Interactive
          </a>{' '}
          | Mar. 2023 - {calculateDuration('2023-03-01', true)}
        </TimelineEvent.Title>

        <TimelineEvent.Description>
          Frontend development and maintenance of projects implementing agile
          methodologies (Kanban in Jira) and best practices such as SOLID
          principles, clean architecture, clean code using Jira, SCRUM
          practices, Git, GitFlow practices, Bitbucket, HTML, CSS, EJS, SASS,
          Tailwind, JavaScript, TypeScript, React, Next.js, Redux, Zustand, Joi,
          Zod, Jotai, Jest and using microfrontends and Storybook to facilitate
          the use of reusable components.
        </TimelineEvent.Description>
      </TimelineEvent>

      <TimelineEvent>
        <TimelineEvent.Title>
          Freelance | Feb. 2022 - Mar. 2023
        </TimelineEvent.Title>

        <TimelineEvent.Description>
          Design and development of web pages applying agile methodologies,
          clean architecture, SOLID principles and pixel perfect in all
          projects, I have developed almost all types of projects from Landing
          pages, stores, blogs and dashboards.
        </TimelineEvent.Description>
      </TimelineEvent>

      <TimelineEvent last>
        <TimelineEvent.Title>
          Studio Iluxion | May. 2022 - Jul. 2022
        </TimelineEvent.Title>

        <TimelineEvent.Description>
          Web designer and responsive web designer on projects using Figma,
          HTML, CSS, SCSS, SASS, Bootstrap, JavaScript, jQuery implementing
          SCRUM, pixel perfect and clean code.
        </TimelineEvent.Description>
      </TimelineEvent>
    </Timeline>
  );
};

export default CurrentTimeLineExp;
